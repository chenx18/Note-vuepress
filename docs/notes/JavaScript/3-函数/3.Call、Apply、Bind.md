# Call、Apply、Bind

## 1. 前言

  - js中的call(), apply()和bind()是Function.prototype下的方法，都是用于改变函数运行时上下文；  
  - 最终的返回值是你调用的方法的返回值，若该方法没有返回值，则返回undefined。
  - call()方法的作用和 apply() 方法类似，区别就是call()方法接受的是参数列表，而apply()方法接受的是一个参数数组；  
  - bind()是返回一个新函数供以后调用，相比其他两个比较常用。而apply()和call()是立即调用。

## 2. apply()
  [MDN apply](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/apply)  
  - apply() 方法使用一个指定的 this 值的函数，以及作为一个数组（或类数组对象）提供的参数。 

  #### 1.语法
  > func.apply(thisArg, [arg1, arg2, ...])  
  - thisArg 
    - 必选的。在 func 函数运行时使用的 this 值。所要指向的那个对象，如果设为 null、undefined，则等同于指定全局对象。
  - argsArray 
    - 可选的。一个数组或者类数组对象，其中的数组元素将作为单独的参数传给 func 函数。如果该参数的值为 null 或  undefined，则表示不需要传入任何参数。
  ```JS
    function f(x, y) {
      console.log(x + y)
    }

    f.call(null, 1, 1)    // -> 2
    f.apply(null, [1, 1]) // -> 2
  ```

  #### 2.使用 apply， 可以继承其他对象的方法   
  ```JS
    var max = Math.max.apply(null, [1, 2, 3, 4, 5]);
    console.log(max); // 输出5
    // 注意这里apply()的第一个参数是null，  
    // 在非严格模式下，第一个参数为null或者undefined时会自动替换为指向全局对象，  
    // apply()的第二个参数为数组或类数组。
  ```

  #### 3.apply 应用
  1. 找出数组最大元素  
  > JavaScript 不提供找出数组最大元素的函数，结合使用 apply 方法和 Math.max 方法，就可以返回数组的最大元素。  
  ```JS
    var a = [10, 2, 4, 15, 9]
    Math.max.apply(null, a)  // -> 15
  ```
  2. 将数组的空元素变为 undefined  
    - 通过 apply 方法，利用 Array 构造函数将数组的空元素变成 undefined  
  ```JS
    Array.apply(null, ['a', , 'b'])
  ```
  空元素与 undefined 的差别在于，数组的 forEach 方法会跳过空元素，但不会跳过 undefined。因此，遍历内部元素的时候，会得到不同的结果。  
  ```JS
  var a = ['a', , 'b']

  function print(i) {
    console.log(i)
  }

  a.forEach(print)
  // a
  // b

  Array.apply(null, a).forEach(print)
  // a
  // undefined
  // b
  ```

    

## 3. call()
  - call()是apply()的一颗语法糖，作用和 apply() 一样，同样可实现继承;  
  - 唯一的区别就在于call()接收的是参数列表，而apply()则接收参数数组。
  ```JS
    var max = Math.max.apply(null, 1, 2, 3, 4, 5);
    console.log(max); // 输出5
  ```

## 4. bind()
  - bind()的作用与call()和apply()一样，都是可以改变函数运行时上下文;  
  - 区别是call()和apply()在调用函数之后会立即执行;  
  - 而bind()方法调用并改变函数运行时上下文后，返回一个新的函数，供我们需要时再调用。



[JavaScript中的call、apply、bind深入理解](https://www.jianshu.com/p/00dc4ad9b83f)