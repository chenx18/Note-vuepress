### 模块
---
##### 1.1 模块概念
>在计算机程序的开发过程中，随着程序代码越写越多，在一个文件里代码就会越来越长，越来越不容易维护。    
>为了编写可维护的代码，我们把很多函数分组，分别放到不同的文件里，这样，每个文件包含的代码就相对较少，很多编程语言都采用这种组织代码的方式。在Node环境中，一个.js文件就称之为一个模块（module）
##### 1.2 使用模块的优势
> 大大提高了代码的可维护性;   
> 编写代码不必从零开始(当一个模块编写完毕，就可以被其他地方引用);   
> 可以避免函数名和变量名冲突 (相同名字的函数和变量完全可以分别存在不同的模块中);    
### 2. Nodejs中的模块
  Node应用是由模块组成，采用CommonJS模块规范；
  ##### 在Node中，模块分为两类：
  一类是Node提供的模块，称为 **核心模块**，另一类是用户编写的模块，称为**文件模块**。   
  >• 核心模块部分在 Node 源代码的编译过程中，编译进了二进制执行文件。在 Node 进程启动时，部分核心模块就被直接加载进内存中，所以这部分核心模块引入时，文件定位和编译执行这两个步骤可以省略掉，并且在路径分析中优先判断，所以它的加载速度是最快的。如：HTTP 模块 、URL 模块、Fs 模块都是 nodejs 内置的核心模块，可以直接引入使用。  
  >• 文件模块则是在运行时动态加载，需要完整的路径分析、文件定位、编译执行过程、 速度相比核心模块稍微慢一些，但是用的非常多。这些模块需要我们自己定义。接下来我们看一下 nodejs 中的自定义模块。    
### 3. CommonJS（Nodejs）中自定义模块的规定：
> 1. 我们可以把公共的功能抽离成为一个单独的 js 文件作为一个模块，默认情况下面这个模块里面的方法或者属性，外面是没法访问的。如果要让外部可以访问模块里面的方法或者属性，就必须在模块里面通过 exports 或者 module.exports 暴露属性或者方法。   
> 2. 在需要使用这些模块的文件中，通过 require 的方式引入这个模块。这个时候就可以使用模块里面暴露的属性和方法。
### 4. 常用定义使用模块方法：
```js
// hello.js 
// 定义模块
module.exports = {
  fn1: () => { 
    console.log('fn1'); 
  },
  fn2: () => {
    return 'fn2'
  }
};

// main.js
// 在需要使用的文件引入模块并如下调用模块方法；
const hello = require('./hello');
hello.fn1();
hello.fn2();
```